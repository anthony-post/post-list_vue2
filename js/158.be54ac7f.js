"use strict";(self["webpackChunkpost_list_vue2"]=self["webpackChunkpost_list_vue2"]||[]).push([[158],{4158:function(t,s,e){e.r(s),e.d(s,{default:function(){return C}});var n=function(){var t=this,s=t._self._c;return s("div",{staticClass:"post-wrapper"},[s("div",{staticClass:"title-wrapper"},[s("BaseIcon",{attrs:{name:"list",width:"30",height:"30"}}),s("h1",{staticClass:"title"},[t._v("Post list")])],1),t._l(t.FILTERED_POSTLIST_BY_TEXT,(function(e){return s("PostCard",{key:e.id,attrs:{post:e},on:{click:t.clearSearchInput}})})),s("Observer",{on:{intersect:t.intersected}})],2)},i=[],r=e(629),o=function(){var t=this,s=t._self._c;return s("div",[s("router-link",{staticClass:"post-link",attrs:{to:{name:"post-edit",params:{id:t.post.id,name:t.post.name}}}},[s("div",{staticClass:"post-card -shadow",on:{click:function(s){return t.$emit("click")}}},[s("p",{staticClass:"post__title"},[t._v(t._s(t.post.name))])])])],1)},a=[],l={props:{post:Object}},c=l,d=e(3736),p=(0,d.Z)(c,o,a,!1,null,"04b6c81e",null),u=p.exports,h=function(){var t=this,s=t._self._c;return s("div",{staticClass:"observer"})},_=[],v={props:["options"],data(){return{observer:null}},mounted(){const t=this.options||{};this.observer=new IntersectionObserver((([t])=>{t&&t.isIntersecting&&this.$emit("intersect")}),t),this.observer.observe(this.$el)},destroyed(){this.observer.disconnect()}},I=v,T=(0,d.Z)(I,h,_,!1,null,null,null),m=T.exports,b={name:"PostList",components:{PostCard:u,Observer:m},data:()=>({startIndex:0,endIndex:15,step:15}),computed:{...(0,r.rn)({allPosts:t=>t.posts,postList:t=>t.postList}),...(0,r.Se)(["FILTERED_POSTLIST_BY_TEXT"])},methods:{clearSearchInput(){this.$store.commit("RESET_SEARCHTEXT")},async intersected(){this.postList.length<this.allPosts.length&&(await this.GET_DATA({startIndex:this.startIndex,endIndex:this.endIndex}),this.startIndex=this.endIndex,this.endIndex=this.startIndex+this.step)},...(0,r.nv)(["GET_DATA"])}},f=b,x=(0,d.Z)(f,n,i,!1,null,null,null),C=x.exports}}]);
//# sourceMappingURL=158.be54ac7f.js.map